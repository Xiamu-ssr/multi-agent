# 狼人杀

## 角色

| 角色 | 人数 | 技能 | 一次性物品 |
| --- | --- | --- | --- |
| 狼人 | 3 | 每晚可以击杀一个玩家 | 无 |
| 村民 | 3 | 每晚可以投票表决 | 无 |
| 预言家 | 1 | 每晚可以查验一个玩家的身份 | 无 |
| 女巫 | 1 | 每晚可以救活一个玩家或毒死一个玩家 | 解药、毒药 |
| 守卫 | 1 | 每晚可以守护一个玩家，防止被狼人击杀 | 无 |

总人数： 9人


## 阵营
| 阵营 | 角色 | 获胜条件 |
| --- | --- | --- |
| 狼人阵营 | 狼人 | 在场好人人数小于狼人人数 |
| 好人阵营 | 村民、预言家、女巫、守卫 | 所有狼人被击杀或者被票死 |

## 游戏流程

1. **初始化**
   - 从配置文件(yaml)中加载角色为agent
   - 启用memory功能

2. **夜晚阶段**
   - **狼人投票**：将存活的狼人放入一个crew，开启crew memory，使用协作模式，输出投票结果
   - **预言家**：直接单次调用接口，获得查验结果
   - **女巫**：直接单次调用接口，获得是否使用药物的结果
   - **守卫**：直接单次调用接口，获得守护目标的结果

3. **白天阶段**
   - **宣布夜晚结果**：根据夜晚发生的变更，修改游戏全局状态，宣布结果，并判定游戏是否结束
   - **依次发言**：将所有存活玩家放入同一个crew，开启crew memory
   - **投票**：按个单次调用接口，收集所有人的投票
   - **宣布结果**：根据投票结果宣布，并修改相关变量
   - **判断对局**：判断游戏是否结束

4. **游戏结束条件**
   - 狼人阵营胜利：存活的好人数量小于狼人数量
   - 好人阵营胜利：所有狼人被淘汰
